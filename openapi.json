{"openapi":"3.0.1","info":{"title":"iRunner API 文档","description":"为 iRunner App 提供后端服务的 API 接口文档。","version":"1.0.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/user/update":{"post":{"tags":["user-controller"],"operationId":"updateUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseInteger"}}}}}}},"/user/register":{"post":{"tags":["user-controller"],"operationId":"userRegister","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegisterRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseLong"}}}}}}},"/user/login":{"post":{"tags":["user-controller"],"operationId":"userLogin","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/post/add":{"post":{"tags":["post-controller"],"operationId":"addPost","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostAddRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseLong"}}}}}}},"/activity/add":{"post":{"tags":["activity-controller"],"operationId":"addActivity","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActivityAddRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseLong"}}}}}}},"/user/search":{"get":{"tags":["user-controller"],"operationId":"searchUsers","parameters":[{"name":"username","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}}}}},"/user/current":{"get":{"tags":["user-controller"],"operationId":"getCurrentUser","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseUser"}}}}}}},"/post/list":{"get":{"tags":["post-controller"],"operationId":"listPosts","parameters":[{"name":"pageNum","in":"query","required":false,"schema":{"type":"integer","format":"int64","default":1}},{"name":"pageSize","in":"query","required":false,"schema":{"type":"integer","format":"int64","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseIPagePostVO"}}}}}}},"/activity/list":{"get":{"tags":["activity-controller"],"operationId":"listActivities","parameters":[{"name":"pageNum","in":"query","required":false,"schema":{"type":"integer","format":"int64","default":1}},{"name":"pageSize","in":"query","required":false,"schema":{"type":"integer","format":"int64","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseIPageActivity"}}}}}}},"/activity/detail/{activityId}":{"get":{"tags":["activity-controller"],"operationId":"getActivityDetail","parameters":[{"name":"activityId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseActivity"}}}}}}},"/user/delete/{id}":{"delete":{"tags":["user-controller"],"operationId":"deleteUsers","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/post/delete/{postId}":{"delete":{"tags":["post-controller"],"operationId":"deletePost","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponse"}}}}}}}},"components":{"schemas":{"UpdateUserRequest":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"userAccount":{"type":"string"},"avatarUrl":{"type":"string"},"gender":{"type":"integer","format":"int32"},"userPassword":{"type":"string"},"phone":{"type":"string"},"email":{"type":"string"},"userStatus":{"type":"integer","format":"int32"},"userRole":{"type":"integer","format":"int32"}}},"BaseResponseInteger":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"integer","format":"int32"},"message":{"type":"string"}}},"UserRegisterRequest":{"type":"object","properties":{"userAccount":{"type":"string"},"userPassword":{"type":"string"},"checkPassword":{"type":"string"}}},"BaseResponseLong":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"integer","format":"int64"},"message":{"type":"string"}}},"UserLoginRequest":{"type":"object","properties":{"userAccount":{"type":"string"},"userPassword":{"type":"string"}}},"User":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"useraccount":{"type":"string"},"avatarurl":{"type":"string"},"gender":{"type":"integer","format":"int32"},"userpassword":{"type":"string"},"email":{"type":"string"},"userstatus":{"type":"integer","format":"int32"},"phone":{"type":"string"},"createtime":{"type":"string","format":"date-time"},"updatetime":{"type":"string","format":"date-time"},"isdelete":{"type":"integer","format":"int32"},"userrole":{"type":"integer","format":"int32"}}},"PostAddRequest":{"type":"object","properties":{"content":{"type":"string"},"activityId":{"type":"integer","format":"int64"},"imageUrls":{"type":"array","items":{"type":"string"}}}},"ActivityAddRequest":{"type":"object","properties":{"distance":{"type":"number"},"duration":{"type":"integer","format":"int32"},"startTime":{"type":"string","format":"date-time"},"trackPoints":{"type":"array","items":{"$ref":"#/components/schemas/TrackPoint"}}}},"TrackPoint":{"type":"object","properties":{"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"},"timestamp":{"type":"integer","format":"int64"}}},"BaseResponseUser":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/components/schemas/User"},"message":{"type":"string"}}},"BaseResponseIPagePostVO":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/components/schemas/IPagePostVO"},"message":{"type":"string"}}},"IPagePostVO":{"type":"object","properties":{"size":{"type":"integer","format":"int64"},"total":{"type":"integer","format":"int64"},"records":{"type":"array","items":{"$ref":"#/components/schemas/PostVO"}},"current":{"type":"integer","format":"int64"},"pages":{"type":"integer","format":"int64","deprecated":true}}},"PostVO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"activityId":{"type":"integer","format":"int64"},"content":{"type":"string"},"imageUrls":{"type":"string"},"createTime":{"type":"string","format":"date-time"},"authorUsername":{"type":"string"},"authorAvatarUrl":{"type":"string"}}},"Activity":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"distance":{"type":"number"},"duration":{"type":"integer","format":"int32"},"avgSpeed":{"type":"number"},"calories":{"type":"integer","format":"int32"},"startTime":{"type":"string","format":"date-time"},"trackPoints":{"type":"string"},"createTime":{"type":"string","format":"date-time"}}},"BaseResponseIPageActivity":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/components/schemas/IPageActivity"},"message":{"type":"string"}}},"IPageActivity":{"type":"object","properties":{"size":{"type":"integer","format":"int64"},"total":{"type":"integer","format":"int64"},"records":{"type":"array","items":{"$ref":"#/components/schemas/Activity"}},"current":{"type":"integer","format":"int64"},"pages":{"type":"integer","format":"int64","deprecated":true}}},"BaseResponseActivity":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/components/schemas/Activity"},"message":{"type":"string"}}},"BaseResponseBoolean":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"boolean"},"message":{"type":"string"}}},"BaseResponse":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"object"},"message":{"type":"string"}}}}}}
